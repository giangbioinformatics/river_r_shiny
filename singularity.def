Bootstrap: docker
From: r-base:4.1.0

%post
    # Install R packages
    /usr/bin/R -e "install.packages(c('shiny', 'ggplot2','readr'), repos='https://cloud.r-project.org/')"

    # Create directory for Shiny app
    mkdir -p /srv/shiny-server

%files
    ./app.R /srv/shiny-server/app.R

%runscript
    R -e "shiny::runApp('/srv/shiny-server/app.R', host='0.0.0.0', port=3838)"

%labels
    Version latest
